From 23069ec74558c981c1491270a1cdf1818e994565 Mon Sep 17 00:00:00 2001
From: James Tai <james.tai@realtek.com>
Date: Sun, 13 Nov 2022 20:39:38 +0800
Subject: [PATCH] regulator: add regulator driver for apw888x series PMIC

Change-Id: I52fbf7ef433db173d10f33a0f324a5872ff3314b
---
 drivers/regulator/Kconfig  | 19 +++++++++++++++++++
 drivers/regulator/Makefile |  3 +++
 2 files changed, 22 insertions(+)

diff --git a/drivers/regulator/Kconfig b/drivers/regulator/Kconfig
index 965d4f0c18a6..d17d4091110b 100644
--- a/drivers/regulator/Kconfig
+++ b/drivers/regulator/Kconfig
@@ -1663,4 +1663,23 @@ config REGULATOR_QCOM_LABIBB
 	  boost regulator and IBB can be used as a negative boost regulator
 	  for LCD display panel.
 
+config REGULATOR_APW888X_CORE
+	tristate
+
+config REGULATOR_APW8889
+	tristate "ANPEC APW8889 Power regulators"
+	depends on MFD_APW8889_I2C
+	select REGULATOR_APW888X_CORE
+	help
+	  This driver provides support for the voltage regulators on the
+	  Anpec APW8889.
+
+config REGULATOR_APW8886
+	tristate "ANPEC APW8886 Power regulators"
+	depends on MFD_APW8886_I2C
+	select REGULATOR_APW888X_CORE
+	help
+	  This driver provides support for the voltage regulators on the
+	  Anpec APW8886.
+
 endif
diff --git a/drivers/regulator/Makefile b/drivers/regulator/Makefile
index 23074714a81a..f83df749c91d 100644
--- a/drivers/regulator/Makefile
+++ b/drivers/regulator/Makefile
@@ -195,5 +195,8 @@ obj-$(CONFIG_REGULATOR_WM831X) += wm831x-ldo.o
 obj-$(CONFIG_REGULATOR_WM8350) += wm8350-regulator.o
 obj-$(CONFIG_REGULATOR_WM8400) += wm8400-regulator.o
 obj-$(CONFIG_REGULATOR_WM8994) += wm8994-regulator.o
+obj-$(CONFIG_REGULATOR_APW888X_CORE) += apw888x-regulator-core.o
+obj-$(CONFIG_REGULATOR_APW8889) += apw8889-regulator.o
+obj-$(CONFIG_REGULATOR_APW8886) += apw8886-regulator.o
 
 ccflags-$(CONFIG_REGULATOR_DEBUG) += -DDEBUG
-- 
2.45.2

